# CS_study_26회

## 1. [프로그래밍] MSA

### 1. MSA (Micro Service Architecture)

1. 개념

   - 애플리케이션을 핵심 기능 단위로 세분화한 서비스 아키텍처입니다.

   - 각 프로세스별 독립적인 운용이 가능합니다.

   - 모듈화된 기능을 서로 연결하는 데 API를 활용합니다.

2. 장점

   1. 각각의 서비스가 독립적인 단위로 분리되어 있기 때문에 개발자는 적은 코드를 이해하는 것으로도 작업을 진행할 수 있습니다.
   2. 개별 서비스에서 발생한 문제가 전체 서비스를 다운 시킬 위험성이 적습니다.
   3. 일부 배포를 위해 전체를 새로 배포해야 하는 번거로움이 없습니다. 컴포넌트는 개별적으로 개발, 테스트, 배포가 가능하기 때문에 컴포넌트별 기능 확장이 용이합니다.

3. 단점

   1. 하나의 컴포넌트의 기획, 개발, 배포 전 과정을 한 팀에서 담당해야 하므로 팀원 개개인의 높은 숙련도가 요구됩니다.
   2. 각 서비스가 API를 통해 작업을 하는 점에서 latency가 증가합니다.

### 2. (비교) 모놀리식 아키텍처

- 전체 애플리케이션이 하나의 덩어리로 이루어져있습니다.
- 장점: 개발, 배포 및 테스트가 간단합니다.
- 단점
  1. 시스템 규모가 커질 경우, 작은 기능의 수정에도 시스템 전체를 빌드해야 하기 때문에 비효율적입니다.
  2. 특정 기능이 마비되면 다른 기능들이 영향을 받습니다.



## 2. [운영체제] Thrashing

### 1. 개념

- 스레싱은 하드디스크의 입출력이 너무 많아져 잦은 페이지 부재로 마치 작업이 멈춘 것 같은 상태를 의미합니다.
- 이는 메모리 크기가 일정할 경우 멀티 프로그램의 수와 밀접한 관계가 있습니다.
- 또한, 각 프로세스에 프레임을 할당하는 정도와도 연관이 있습니다.
  - 프로세스에 너무 적은 프레임을 할당하면 페이지 부재가 잦아질 것입니다.
  - 너무 많은 프레임을 할당하면 메모리가 낭비됩니다.

- 따라서 남아있는 프레임을 적절히 할당하기 위해 정적 할당, 동적 할당이 존재합니다.



### 2. 정적 할당 (static allocation)

- 프로세스 실행 초기에 프레임을 나누어준 후 그 크기를 나누어주는 방식입니다.

1. 균등 할당 방식
   - 프로세스 크기에 상관없이 프레임을 동등하게 나눠주는 것입니다.
   - 이는 전체적으로는 공평하다는 느낌을 줄 수 있지만, 각 프로세스별 필요한 프레임을 고려하지 않았기 때문에 페이지 부재의 가능성이 커진다는 단점이 있습니다.
2. 비례 할당 방식
   - 프로세스의 크기에 비례하여 프레임을 할당하는 방식입니다.
3. 정적 할당 방식의 문제점
   1. 프로세스가 실행 중에 필요로 하는 프레임을 유동적으로 반영하지 못합니다.
   2. 사용하지 않은 메모리를 처음부터 미리 확보하여 공간을 낭비합니다.

### 3. 동적 할당 (dynamic allocation)

1. 작업 집합 모델
   - 가장 최근에 접근한 프레임이 이후에도 또 참조될 가능성이 높다는 점을 가정한 모델입니다.
   - 최근 일정 시간동안 참조된 페이지들을 집합으로 만들고, 이 집합에 있는 페이지들을 물리 메모리에 유지하여 프로세스의 실행을 돕습니다.
   - 단점
     - 충분한 페이지를 할당하지 않으면 작업집합에 있는 페이지를 물리메모리에 유지하기 힘든 단점이 있습니다.
     - 어떤 프레임을 물리 메모리에 유지해야 하는지는 알 수 있지만 프로세스에게 프레임을 얼마나 할당해야하는지는 알 수 없습니다. 즉, 프로세스의 성능을 높일 수는 있지만 스레싱 문제를 해결하진 못합니다.
2. 페이지 부재 빈도 사용
   - 프로세스가 필요로 하는 프레임의 양을 동적으로 결정하는 방법입니다.
   - 페이지 부재 횟수를 기록하여 프로세스마다 페이지 부재 비율을 계산합니다.
   - 페이지 부재 비율의 상한선, 하한선을 설정하여 상한선 초과시 할당한 프레임이 적다는 것이므로 프레임 할당량을 늘리고, 하한선 미만일 시 할당한 프레임을 회수합니다.
   - 각각의 프로세스가 실제로 실행됐을 때 상황에 따라 프레임을 동적으로 할당할 수 있게 됩니다.
